<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cusssteamer Nonsurvess Knowts</title>
  <style>
    body { font-family: Arial, sans-serif; background: #222; color: #fff; padding: .5rem; }
    #container { width: 22rem !important; display: flexbox; }
    h1,h2,h3,h4 { margin: .3rem 0; padding: 0; line-height: 1;  }
    .form-group { display: flex; padding: .3rem 0; }
    .half-group { display: flex; gap: .3rem; padding: .3rem 0; }
    .half-group input { width: 40%; }
    label { display: block; margin-bottom: .1rem; }
    input, textarea, select { box-sizing: border-box; padding: .5rem; border-radius: 5px; border: 1px solid #444; background: #333; color: #fff; }
    .full { width: 100%; }
    input::-webkit-outer-spin-button,input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }input[type=number] { -moz-appearance: textfield; }
    button { margin: .3rem; padding: .5rem 1rem; border-radius: 5px; border: none; background: #00ff60; color: #222; cursor: pointer; }
    button:hover { background: #00c040; }
    #output { margin-top: 2rem; background: #333; padding: 1rem; border-radius: 5px; white-space: pre-wrap; }
  </style>
</head>
<body>
  <div id="container">
    <h3>Scratch</h3>
    <div class="form-group">
      <textarea id="note" rows="3" placeholder="quick notes here..." class="full"></textarea>
    </div>
    <h3>And Sniff</h3>
    <div class="form-group">
      <input id="name" type="text" placeholder="Moneyback Jones" class="full">
    </div>
    <div class="half-group">
      <input id="acct"  type="number" min="100" max="900000000" placeholder="Acct #">  
      <input id="phone" type="tel" pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}" placeholder="Phone">
    </div>
    <h3>Dem MUDDERFUKIN CALL KNOWTS</h3>
    <div class="form-group">
      <textarea id="what" rows="3" placeholder="What? Why is the person interrupted your time to read chats?" class="full"></textarea>
    </div>
    <div class="form-group">
      <textarea id="reso" rows="3" placeholder="Resolution: Now what did you have to do to get them off the phone." class="full"></textarea>
    </div>
    <h3>Crawls/Bites/Stings=DANGER-we ain't coming, KEEP 'EM, YOU CRAZY!</h3>
    <div class="form-group">
      <textarea id="pest" rows="3" placeholder="Pests: No, we only cover outdoor roaches. DUH, STUPID!" class="full"></textarea>
    </div>
    <h4>Reservice NO NOT GOING BACK TO CALI</h4>
    <div class="form-group">
      <input id="where" type="text" placeholder="Where? oh, ok bugs outside Look we just pulled up! Click!" class="full">
    </div>
    <div class="form-group">
      <input id="when" type="text" placeholder="When? right, yesterday! also=EMERGENCY! Coming!" class="full">
    </div>
    <div class="form-group">
      <input id="many" type="text" placeholder="How Many? no sir, we don't expect you to count NEVER!" class="full">
    </div>
    <h4>Service NO SIR, TRY CALLING A VETERAN</h4>
    <div class="form-group">
      <textarea id="reason" rows="3" placeholder="Reason? Ok will declare EMERGENCY and call the President. Will you also need emergency relief funds?" class="full"></textarea>
    </div>
    <div class="form-group">
      <textarea id="context" rows="3" placeholder="Context: WHAT THE FUCK GOES HERE?" class="full"></textarea>
    </div>


      <button onclick="copyOutput()">Copy</button>
      <button onclick="saveOutput()">Save</button>
    <div id="output"></div>
  </div>

  <script>
    function getFormattedOutput() {
      const note = document.getElementById('note').value.trim();
      const name = document.getElementById('name').value.trim();
      const acct = document.getElementById('acct').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const what = document.getElementById('what').value.trim();
      const reso = document.getElementById('reso').value.trim();
      const pest = document.getElementById('pest').value.trim();
      const where = document.getElementById('where').value.trim();
      const when = document.getElementById('when').value.trim();
      const many = document.getElementById('many').value.trim();
      const reason = document.getElementById('reason').value.trim();
      const context = document.getElementById('context').value.trim();
      return `Notes: ${note}\nCX-${acct}  |  Tel: ${phone}\n \nName: ${name}\nWhat? ${what}\nResolution: ${reso}\n  \nWhat? ${pest}\nWhere? ${where}\nWhen? ${when}\nHow Many? ${many}\n \nReason: ${reason}\nContext: ${context}\nPest Situation ${pest}\n \nSaved on: ${new Date().toLocaleString()}`;
    }

    function showOutput() {
      document.getElementById('output').textContent = getFormattedOutput();
    }

    document.getElementById('name').addEventListener('input', showOutput);
    document.getElementById('note').addEventListener('input', showOutput);
    document.getElementById('acct').addEventListener('input', showOutput);
    document.getElementById('phone').addEventListener('input', showOutput);
    document.getElementById('what').addEventListener('input', showOutput);
    document.getElementById('reso').addEventListener('input', showOutput);

    function copyOutput() {
      const output = getFormattedOutput();
      navigator.clipboard.writeText(output)
        .then(() => alert('Copied to clipboard!'))
        .catch(() => alert('Copy failed.'));
    }

    function saveOutput() {
      const output = getFormattedOutput();
      const blob = new Blob([output], { type: 'text/plain' });
      const link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = 'knowts.txt';
      link.click();
      URL.revokeObjectURL(link.href);
    }

    // Show initial output
    showOutput();
  </script>
</body>
</html>